<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS equivalence operators: &quot;Good enough for government work&quot; - Tim Saylor</title>
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/static/fetch.css?v=0b9d7">
        
            <link rel="alternate" type="application/rss+xml" href=" /feed" title="Tim Saylor">
        
        
    <link rel="canonical" href="/js-equivalence-operators-good-enough-for-government-work">
    

    </head>
    <body>
        <header class="site-header">
            <nav class="buttons">
                
                    <a href="/" title="Home">
                        <i data-icon="h"></i>
                        <span class="text">Home</span>
                    </a>
                
                    <a href="https://twitter.com/tsaylor" title="Twitter">
                        <i data-icon="t"></i>
                        <span class="text">Twitter</span>
                    </a>
                
                    <a href="https://github.com/tsaylor" title="GitHub">
                        <i data-icon="g"></i>
                        <span class="text">GitHub</span>
                    </a>
                
            </nav>
            
        </header>

        <main><article>
        <header>
            <h1>JS equivalence operators: &quot;Good enough for government work&quot;</h1>
            <div class="meta">
                <time class="updated" datetime="2008-06-30T15:10:00+06:00" pubdate>June 30, 2008</time>
            </div>
        </header>

        <p>I was having some strange behavior with a javascript app I wrote. It&#39;s an image thumbnailing interface that allowed the user to zoom and drag an image around. When it loads, the image is scaled to be either as tall or as wide as the thumbnail size, and the other dimension is larger. The user can zoom in and out, but they can&#39;t zoom it smaller than it starts so no whitespace can appear. When a user zoomed in and then all the way out, the image would pop out of the frame a little bit and whitespace would appear at the bottom (this was an image that was as tall as the thumbnail size, I imagine the whitespace would be on the right if the image were as wide as the thumbnail size and taller). After tracing through the javascript for a while I realized the problem; javascript considers (&#39;&#39; == 0) to be True.   </p>
<p>I have a function that repositions the image so when you zoom in/out it stays centered on the same point. I wanted to be able to call it to reposition for a move that only had a horizontal vector, so I made it check to make sure there was a value for each of the x and y coordinates before it tried moving the image on that vector. I passed in an empty string when I didn&#39;t want to make a move on that vector. The problem came in to play when I zoomed out to the max and the image&#39;s position on the short dimension became 0. I want to move the image to 0 on that vector, but my test for no value was catching the 0 and calling it &ldquo;nothing&rdquo;, just like &#39;&#39;.   </p>
<p>Once I tracked this down, the solution was simple. Just use the &ldquo;really equal, I mean it for reals&rdquo; operator; a.k.a. &ldquo;===&rdquo;.   </p>

<blockquote>
<p>if (left != &#39;&#39; || left === 0) { do stuff; }</p>
</blockquote>
<p>A more appropriate way to do this might be to have a real value like &ldquo;nochange&rdquo; mark when I don&#39;t want to do anything with that vector, but I did this because I didn&#39;t want to find all the places where I used &#39;&#39; and change them.</p>


    </article>
</main>
        <footer class="site-footer">
            <p>&copy; Tim Saylor.
            <br>Powered by <a href="http://lab.lepture.com/liquidluck/">Felix Felicis</a>
            <br>Theme based on <a href="https://github.com/roryg/ghostwriter">ghostwriter</a> by <a href="http://jollygoodthemes.com">JollyGoodThemes</a>, by way of <a href="https://github.com/kennethlove/alex-gaynor-blog-design">Kenneth Love</a>.</p>
        </footer>
    </body>
</html>