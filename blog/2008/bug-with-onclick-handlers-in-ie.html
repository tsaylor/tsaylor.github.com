<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>&quot;bug&quot; with onclick handlers in IE - Felix Felicis</title>
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/static/fetch.css?v=0b9d7">
        
            <link rel="alternate" type="application/rss+xml" href=" /feed.xml" title="Felix Felicis">
        
        
    <link rel="canonical" href="/2008/bug-with-onclick-handlers-in-ie.html">
    

    </head>
    <body>
        <header class="site-header">
            <nav class="buttons">
                
                    <a href="/" title="Home">
                        <i data-icon="h"></i>
                        <span class="text">Home</span>
                    </a>
                
                    <a href="https://twitter.com/tsaylor" title="Twitter">
                        <i data-icon="t"></i>
                        <span class="text">Twitter</span>
                    </a>
                
                    <a href="https://github.com/tsaylor" title="GitHub">
                        <i data-icon="g"></i>
                        <span class="text">GitHub</span>
                    </a>
                
            </nav>
            
        </header>

        <main><article>
        <header>
            <h1>&quot;bug&quot; with onclick handlers in IE</h1>
            <div class="meta">
                <time class="updated" datetime="2008-06-25T14:07:00+08:00" pubdate>June 25, 2008</time>
            </div>
        </header>

        <p>I had an issue today with Internet Explorer. An object with an onClick handler worked fine in Firefox and Safari, but in IE the handler only fired every other click. In the course of debugging I discovered that if I clicked slowly, it worked on every click. I realized that this was because IE must be registering an onDblClick event instead of two onClick events. A little testing confirmed this. I searched to see if someone else had the same problem, and found <a href="http://codingforums.com/archive/index.php?t-45921.html">this page</a>. User jamescover had the same issue and found a solution: use the onMouseUp event to handle clicks instead of onClick. He also directed the focus in the onMouseDown event, but I found that part to be unnecessary in my application. A demo of his solution can be found <a href="http://www.ekigroup.com/javascript/mozilla.html">here</a>. I&#39;ll reproduce the code in this post in case that page ever gets taken down:<br/>
<br/>
<script type="text/javascript"><br/>
&lt;!--  </p>
<p>var x = 0;<br/>
function addX(){<br/>
document[&#39;oFrm&#39;][&#39;num&#39;].value = x;<br/>
x++;<br/>
}  </p>
<p>var y = 0;<br/>
function addY(){<br/>
document[&#39;oFrm2&#39;][&#39;num2&#39;].value = y;<br/>
y++;<br/>
}  </p>
<p>//--&gt;<br/>
</script><br/>
This one invokes the function <b>onclick</b><br/>
<form name="oFrm"><br/>
<input type="text" name="num" size="5" /><br/>
<input type="button" value="add" onclick="addX();" /><br/>
</form><br/>
This one focuses the text field <b>onmousedown</b>, then invokes the function <b>onmouseup</b><br/>
<form name="oFrm2"><br/>
<input type="text" name="num2" size="5" /><br/>
<input type="button" value="add" onmousedown="this.focus();" onmouseup="addY();" /><br/>
</form><br/>
</p>

<h2 id="toc_0">Comments</h2>
<p><strong><a href="#15" title="2008-06-26 10:55:00">Alex Rakoczy</a>:</strong> Hey!  </p>
<p>I&#39;ve ran into this problem before as well. You may have better luck with an Event Observer on a particular element, rather than a literal onclick statement.  </p>
<p><a href="http://prototypejs.org/api/element#method-observe">prototypejs.org/api/element#method-observe</a></p>
<p><strong><a href="#16" title="2008-06-26 15:09:00">Clive</a>:</strong> The reason is that IE goofed on the events front with double-click.<br/>
(e.g. Prototype.js isn&#39;t doing anything wrong, IE just sucks)  </p>
<p>The bug is listed here  </p>
<p><a href="http://webbugtrack.blogspot.com/2008/01/bug-263-beware-of-doubleclick-in-ie.html">webbugtrack.blogspot.com/2008/01/bug-263-beware-of-doubleclick-in-ie.html</a>  </p>
<p>Unfortunately it ends up busting a bunch of things if you aren&#39;t aware of the bug.</p>
<p><strong><a href="#17" title="2009-04-03 11:48:27">Stanley</a>:</strong> @Clive - Thanks man! that is exactly what I was experiencing on my end. I found this article when Googling and as you noted I&#39;m using jQuery but it was still happening to me too. Will the blue e ever be fixed?</p>


    </article>
</main>
        <footer class="site-footer">
            <p>&copy; Tim Saylor.
            <br>Powered by <a href="http://lab.lepture.com/liquidluck/">Felix Felicis</a>
            <br>Theme based on <a href="https://github.com/roryg/ghostwriter">ghostwriter</a> by <a href="http://jollygoodthemes.com">JollyGoodThemes</a>, by way of <a href="https://github.com/kennethlove/alex-gaynor-blog-design">Kenneth Love</a>.</p>
        </footer>
    </body>
</html>